let produk = [
    //1
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },

    //2
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },
    
    //3
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },
    
    //4
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },
    
    //5
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },
    
    //6
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },
    
    //7
    {
        judul: 'Produk B',
        kategori: 'women',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/b3.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'men',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/d1.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'kid',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/k1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk C',
        kategori: 'shoes',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/b5.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk C',
        kategori: 'electronic',
        harga: 15000,
        deskripsi: 'Deskripsi Produk C',
        gambar: '../assets/img/k1.2.jpg',
        toko: 'Toko C'
    },
    {
        judul: 'Produk B',
        kategori: 'home',
        harga: 20000,
        deskripsi: 'Deskripsi Produk B',
        gambar: '../assets/img/j1.jpg',
        toko: 'Toko B'
    },
    {
        judul: 'Produk A',
        kategori: 'book',
        harga: 10000,
        deskripsi: 'Deskripsi Produk A',
        gambar: '../assets/img/b2.jpg',
        toko: 'Toko A'
    },
    

    // Tambahkan produk lain di sini
];
let totalProdukCount = 0; // Variabel untuk menyimpan jumlah total produk

function renderProduk(totalCount = produk.length){
    let container = document.getElementById('product-container');
    let itemCount = document.getElementById('item-count');
    container.innerHTML = '';
    
    produk.forEach(function (produk) {
        let proContainer = document.createElement('div');
        proContainer.className = 'pro';

        let gambar = document.createElement('img');
        gambar.src = produk.gambar;
        gambar.alt = produk.judul;
        gambar.className = 'product-img';

        let judul = document.createElement('h2');
        judul.className = 'product-title';
        judul.textContent = produk.judul;

        let harga = document.createElement('span');
        harga.className = 'price';
        harga.textContent = 'Rp. ' + produk.harga;

        let toko = document.createElement('p');
        toko.className = 'store';
        toko.textContent = produk.toko;

        let addCart = document.createElement('i');
        addCart.className = 'fas fa-cart-plus add-cart';

        proContainer.appendChild(gambar);
        proContainer.appendChild(judul);
        proContainer.appendChild(harga);
        proContainer.appendChild(toko);
        proContainer.appendChild(addCart);

        container.appendChild(proContainer);
    });
    totalProdukCount = produk.length; // Perbarui jumlah total produk
    updateTotalProdukCount(totalProdukCount); // Perbarui tampilan jumlah total produk
}

function filterProduk() {
    let select = document.getElementById('kategori-select');
    let kategori = select.value;
    let filteredProduk = [];

    if (kategori === 'all') {
        filteredProduk = produk;
    } else {
        filteredProduk = produk.filter(function (produk) {
            return produk.kategori === kategori;
        });
    }
    renderFilteredProduk(filteredProduk, filteredProduk.length, totalProdukCount);
}


function renderFilteredProduk(filteredProduk, filteredProdukCount, totalProdukCount) {
    let container = document.getElementById('product-container');
    container.innerHTML = '';

    filteredProduk.forEach(function (produk) {
        let proContainer = document.createElement('div');
        proContainer.className = 'pro';

        let gambar = document.createElement('img');
        gambar.src = produk.gambar;
        gambar.alt = produk.judul;
        gambar.className = 'product-img';

        let judul = document.createElement('h2');
        judul.className = 'product-title';
        judul.textContent = produk.judul;

        let harga = document.createElement('span');
        harga.className = 'price';
        harga.textContent = 'Rp. ' + produk.harga;

        let toko = document.createElement('p');
        toko.className = 'store';
        toko.textContent = produk.toko;

        let addCart = document.createElement('i');
        addCart.className = 'fas fa-cart-plus add-cart';

        proContainer.appendChild(gambar);
        proContainer.appendChild(judul);
        proContainer.appendChild(harga);
        proContainer.appendChild(toko);
        proContainer.appendChild(addCart);

        container.appendChild(proContainer);
    });
    updateTotalProdukCount(filteredProdukCount);
}
function updateTotalProdukCount(count) {
    let itemCount = document.getElementById('item-count');
    itemCount.textContent = count + ' Items found';
  }
// Render semua produk saat halaman pertama kali dimuat
renderProduk();
// Membuat fungsi pencarian ketika diinput oleh pengguna dan menampilkan produk berdasarkan nama produk dari inputan pengguna
function search() {
    let searchInput = document.getElementById('searchInput').value.toLowerCase();
  
    // Pindah ke halaman produk.html dengan parameter pencarian
    window.location.href = './produkKategori.html' + '?search=' + encodeURIComponent(searchInput);
  }
  
  // Fungsi untuk mendapatkan nilai parameter pencarian dari URL
  function getSearchParameter() {
    let urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('search');
  }
  
  // Fungsi untuk melakukan pencarian pada elemen-elemen produk
  function performSearch() {
    let searchInput = getSearchParameter();
  
    // Mendapatkan semua elemen dengan kelas "pro"
    let items = document.getElementsByClassName('pro');
    let filteredProdukCount = 0; // Variabel untuk menyimpan jumlah produk yang ditemukan
  
    // Loop melalui semua elemen dan sembunyikan yang tidak sesuai
    for (let i = 0; i < items.length; i++) {
      let item = items[i];
      let title = item.querySelector('.product-title').textContent.toLowerCase();
  
      if (title.includes(searchInput)) {
        item.style.display = 'block';
        filteredProdukCount++; // Menambah jumlah produk yang ditemukan
      } else {
        item.style.display = 'none';
      }
    }
  
    updateTotalProdukCount(filteredProdukCount);
  }
  window.addEventListener('DOMContentLoaded', function () {
    let searchInput = getSearchParameter();
  
    if (!searchInput) {
      renderProduk();
    }
  
    let select = document.getElementById('kategori-select');
    select.addEventListener('change', function() {
      renderProduk();
      filterProduk();
    });
  
    performSearch();
});