let produk = [
    //1
    {
        judul: 'Astrid Textured Slit Dress Black',
        kategori: 'women',
        harga: '534.000',
        deskripsi: 'Made of textured polyester elastane blend. Lined; until slit opening. Slight stretch. Concealed back zip. Slide slit (approx 17).',
        gambar: '../assets/img/d1.jpg',
        toko: 'The Willow Label'
    },
    {
        judul: 'Varsity Jacket FTH x EVOS',
        kategori: 'men',
        harga: '920.000',
        deskripsi: 'Faith Industries (FTH) is collaborating again this time with the EVOS Esports organization to release its newest capsule collection. This capsule collection follows many of the EVOS Esports elements with its color palette which includes black, white and blue tones.',
        gambar: '../assets/img/j1.jpg',
        toko: 'EVOSGOODS'
    },
    {
        judul: 'Mitu Baby Liquid Powder',
        kategori: 'kid',
        harga: '19.000',
        deskripsi: 'Liquid powder with a lotion texture with the Acti Natura formulation to keep babys skin dry and smooth, it is also protected from skin irritation. It is safe for your little ones breathing because it does not contain powder. It has been tested hypoallergenic (anti-allergic) and certified halal.',
        gambar: '../assets/img/bedak.jpg',
        toko: 'Mitu Baby Care'
    },
    {
        judul: 'J Balvin x Nike Air Jordan',
        kategori: 'shoes',
        harga: '2.889.000',
        deskripsi: 'Originally unveiled during a half-time performance on American footballs biggest stage, this exclusive AJ1 uses an eclectic mix of colours, textures and graphics to re-imagine the classic silhouette in the image of Colombian recording artist J Balvin.',
        gambar: '../assets/img/s1.jpg',
        toko: 'Nike'
    },
    {
        judul: 'Mi 23.8 Desktop Monitor 1C',
        kategori: 'electronic',
        harga: '1.599.000',
        deskripsi: 'The 23.8 IPS widescreen offers a wide 178-degree field of view, with a clear and realistic view at every angle. The thinnest part of the body measures 7.3 mm, so saves countertop space and looks neat. Internal 1920*1080 high definition quality of this 23.8 screen offers a crisp and clear view, soothing the eyes with amazing detail and refinement.',
        gambar: '../assets/img/monitor.jpg',
        toko: 'Xiaomi'
    },
    {
        judul: 'LED Table Lamp',
        kategori: 'home',
        harga: '69.000',
        deskripsi: 'Having an elegant design, this lamp is equipped with an eye protection feature so that your eyes wont feel dazzled. In addition, this lamp is also very flexible so that it can be bent up to 180 degrees, and has 3 color temperatures that can be adjusted as needed.',
        gambar: '../assets/img/led-lamp.jpg',
        toko: 'Vinero'
    },
    {
        judul: 'Novel Kita Pergi Hari Ini',
        kategori: 'book',
        harga: '84.000',
        deskripsi: 'Despite having childrens characters, Kita Pergi Hari Ini is a social satirical novel full of meaning. While reading it, you will find stigma about boys and girls. There is also the issue of animal exploitation. So, this adult fantasy novel is suitable for those of you who are interested in social issues that are covered through slick fantasy stories.',
        gambar: '../assets/img/b2.jpg',
        toko: 'Goodreads'
    },

    //2
    {
        judul: 'Jimmy Choo Hitch 100 Sandals',
        kategori: 'women',
        harga: '4.340.000',
        deskripsi: 'Hitch 100 sandals from Jimmy Choo feature a contemporary caged design that show off the shape of the foot with its cut out details. Securely fastened with a tie fastening, these stand-out Hitch sandals are finished with a luxurious leather brand embossed insole and a leather insole whilst the striking 100mm high stiletto heel elongates the leg.',
        gambar: '../assets/img/s6.jpg',
        toko: 'Jimmy Choo'
    },
    {
        judul: 'TAG Heuer Carrera',
        kategori: 'men',
        harga: '47.000.000',
        deskripsi: 'As daring as ever, the resilient TAG Heuer Carrera is driven to the next level thanks to new details on this proudly upgraded chronograph. Improved dial and case elements prove the boldness and conviction of this great classic.',
        gambar: '../assets/img/jt1.jpg',
        toko: 'TAG Heuer'
    },
    {
        judul: 'Baby Happy Diapers',
        kategori: 'kid',
        harga: '45.000',
        deskripsi: 'Baby Happy is a diaper product for babies presented by Wings. Comes in a pack of disposable pants diapers with size L containing 30 pcs. These diapers are specially designed with baby comfort in mind. Made with the finest materials, leak-proof, and has a lot and fast absorption.',
        gambar: '../assets/img/popok.jpg',
        toko: 'Baby Happy'
    },
    {
        judul: 'Adidas Yeezy Boost 350',
        kategori: 'shoes',
        harga: '6.340.000',
        deskripsi: 'Adidas Yeezy Boost 350 V2 is the latest version of the popular 350 model. Constructed with a tri-color Primeknit upper, they also feature internal toebox reinforcement, 3-Stripes detail on the inner heel, "SPLY-350" detail, full-length Boost technology, rope laces, and a semi-translucent rubber outsole.',
        gambar: '../assets/img/s2.jpg',
        toko: 'Adidas'
    },
    {
        judul: 'iPhone 14 Pro Max',
        kategori: 'electronic',
        harga: '16.380.000',
        deskripsi: 'The phone comes with a 120 Hz refresh rate 6.70-inch touchscreen display offering a resolution of 2796x1290 pixels at a pixel density of 460 pixels per inch (ppi). The display sports Other for protection. iPhone 14 Pro Max is powered by a hexa-core Apple A16 Bionic processor.',
        gambar: '../assets/img/h1.jpg',
        toko: 'iBox'
    },
    {
        judul: 'Linori Lobo Mini Bean Bag',
        kategori: 'home',
        harga: '339.000',
        deskripsi: 'This Lobo Mini Bean Bag is a multi-functional bean bag, a mini bean bag that is suitable for relaxing or working on the floor. Filled with foam beads, this mini bean bag is lighter. Equipped with a zipper, making it easier for you to refill or replace the foam beads.',
        gambar: '../assets/img/bean-bag.jpg',
        toko: 'Dekoruma'
    },
    {
        judul: 'The Subtle Art of Not Giving A F*ck',
        kategori: 'book',
        harga: '169.000',
        deskripsi: 'In this generation-defining self-help guide, a superstar blogger cuts through the crap to show us how to stop trying to be positive all the time so that we can truly become better, happier people. For decades, we have been told that positive thinking is the key to a happy, rich life. F**k positivity, Mark Manson says.',
        gambar: '../assets/img/b3.jpg',
        toko: 'Gramedia'
    },
    
    //3
    {
        judul: 'Slingbag Chanel Flap Medium Black Caviar',
        kategori: 'women',
        harga: '3.504.000',
        deskripsi: 'A Chanel Timeless Classic crafted from Black Caviar leather. The structured silhouette offers plenty of space for your wallet, phone and keys. Produced in 2017. Chanels medium-sized design effortlessly transitions from day to night - carry it from brunch dates to the office, to dinner beyond.',
        gambar: '../assets/img/tas1.jpg',
        toko: 'Chanel'
    },
    {
        judul: 'Adidas Yeezy Boost 350',
        kategori: 'men',
        harga: '6.340.000',
        deskripsi: 'Adidas Yeezy Boost 350 V2 is the latest version of the popular 350 model. Constructed with a tri-color Primeknit upper, they also feature internal toebox reinforcement, 3-Stripes detail on the inner heel, "SPLY-350" detail, full-length Boost technology, rope laces, and a semi-translucent rubber outsole.',
        gambar: '../assets/img/s2.jpg',
        toko: 'Adidas'
    },
    {
        judul: 'Milk Powder and Snack Container',
        kategori: 'kid',
        harga: '15.000',
        deskripsi: 'Milk and snack containers help make it easier to carry milk and snacks while traveling. This container consists of three levels that can be stacked so that it saves space when stored in a diaper bag. Each container holds approx. 0.04 kg / 9 scoops of formula powder.',
        gambar: '../assets/img/tmptsusu.jpg',
        toko: 'Emomcare'
    },
    {
        judul: 'Clarks Men Shoes RaceLite Tor',
        kategori: 'shoes',
        harga: '1.304.000',
        deskripsi: 'A retro-sport addition, our RaceLite Tor shoe unites authentic Clarks craftsmanship with feel-good wear. Layers of suedes and nylons create a design-led profile, while its perforated leather and plush cushioning deliver breathable comfort and a vintage aesthetic.',
        gambar: '../assets/img/s3.jpg',
        toko: 'Clarks'
    },
    {
        judul: 'Robot RT-BF10 Cleanable 720 Rotating',
        kategori: 'electronic',
        harga: '112.500',
        deskripsi: 'ROBOT RT-BF10 is a versatile fan equipped with a 18650, 2000 mAh lithium battery, so it can be used anytime and anywhere without having to be connected to a separate charger or power bank. This fan can be rotated 720 degrees so that it can be directed according to your wishes. Easy maintenance, can be opened and cleaned.',
        gambar: '../assets/img/mini-fan.jpg',
        toko: 'ROBOT'
    },
    {
        judul: 'ROSS Nordic Style Mini Vase',
        kategori: 'home',
        harga: '48.000',
        deskripsi: 'A beautiful and light small vase made by a professional ceramic manufacturer with a Matte-Doff Old European Fashioned Looks texture finish. The simple model is decorated with beautiful small flowers on each side, the body of the bottle and the inside are painted in the same color.',
        gambar: '../assets/img/mini-vase.jpg',
        toko: 'ROSS'
    },
    {
        judul: 'Manga One Piece Vol 105',
        kategori: 'book',
        harga: '180.000',
        deskripsi: 'One Piece comic volume 105 contains 10 chapters, starting from chapter 1056 titled "CROSS GUILD" to chapter 1065 entitled "Six Vegapunk". Some of the upgrades on the cover of volume 105 include: Luffy changes to Gear Five mode, Buggy wears a bigger hat and joins the Cross Guid.',
        gambar: '../assets/img/b1.jpg',
        toko: 'Goodreads'
    },
    
    //4
    {
        judul: 'Jacket FTH x EVOS "Let The Roar Begin"',
        kategori: 'women',
        harga: '934.000',
        deskripsi: 'Faith Industries (FTH) is collaborating again this time with the EVOS Esports organization to release its newest capsule collection. This capsule collection follows many of the EVOS Esports elements with its color palette which includes black, white and blue tones.',
        gambar: '../assets/img/j2.jpg',
        toko: 'EVOSGOODS'
    },
    {
        judul: 'Big & Tall Sport Shirt, Irish Linen',
        kategori: 'men',
        harga: '860.000',
        deskripsi: 'The fabric for this style is woven for us by the renowned Baird McNutt mill in Ireland, which has been making the worlds finest linen since 1912. Additional features include our signature 6-Pleat Shirring® at the barrel cuffs and a left chest pocket.',
        gambar: '../assets/img/k3.jpg',
        toko: 'Brooks Brothers'
    },
    {
        judul: 'Gol Baby Bedrail',
        kategori: 'kid',
        harga: '284.000',
        deskripsi: 'Bedrail is installed between the divan (full box/wooden divan) and the mattress. Based on the guide (installation standard), install by inserting and bolting with the bolts provided. The main function of the bedrail is to protect the child from falling while sleeping.',
        gambar: '../assets/img/bedrail.jpg',
        toko: 'BabaBoo'
    },
    {
        judul: 'New Balance Fresh Foam Arishi',
        kategori: 'shoes',
        harga: '654.000',
        deskripsi: 'The Fresh Foam Arishi v3 running shoe from New Balance offers a premium underfoot comfort experience using pinnacle brand technology, built to help increase your style and comfort throughout the day.',
        gambar: '../assets/img/s4.jpg',
        toko: 'New Balance'
    },
    {
        judul: 'Samsung Galaxy Tab S8',
        kategori: 'electronic',
        harga: '8.149.000',
        deskripsi: 'This 11 LCD screen has a lot to offer. From 5G to big battery, and 12MP Ultra Wide Front Camera. And of course, the S Pen is included. Aluminum Armor case protects against all kinds of bumps and drops. This is our thinnest, biggest, heaviest Samsung Galaxy Tab S.',
        gambar: '../assets/img/tab.jpg',
        toko: 'Samsung'
    },
    {
        judul: 'Folding Wall Table',
        kategori: 'home',
        harga: '114.000',
        deskripsi: 'Complete the limited-sized room of the house by using a portable folding wall table that can make maximum use of the function of space. When not in use, this wall corner table can be folded so it can provide an efficient concept for a minimalist space.',
        gambar: '../assets/img/meja-lipat.jpg',
        toko: 'QARA'
    },
    {
        judul: 'Nanti Kita Bercerita Tentang Hari Ini',
        kategori: 'book',
        harga: '134.000',
        deskripsi: 'This book by Marchella FP is a graphic visual book which contains a flash fiction story about the main character named Awan. A woman who is afraid will forget what its like to be young. Therefore, he wrote a letter for the future addressed to his son containing growing, breaking, enduring, changing, waiting and all the fears experienced by humans.',
        gambar: '../assets/img/b4.jpg',
        toko: 'Gramedia'
    },
    
    //5
    {
        judul: 'Ms Glow Whitening Original',
        kategori: 'women',
        harga: '300.000',
        deskripsi: 'Formulated for normal or dry skin, it makes white skin glow healthy all day long. Consists of 4 facial wash products, toner, whitening day cream, and whitening night cream with pouch bag packaging.',
        gambar: '../assets/img/skincare.jpg',
        toko: 'Ms Glow'
    },
    {
        judul: 'Stussy Cord Low Pro Cap',
        kategori: 'men',
        harga: '294.000',
        deskripsi: 'With its cotton/viscose construction and low profile 6 panel look, the Big Logo Low Pro Cap from Stussy is a versatile look for any wardrobe, now with a corded material design. A small signature Stussy logo sits embroidered at the centre of the cap for that OG look, with the curved brim and adjustable closure making for a practical fit.',
        gambar: '../assets/img/t1.jpg',
        toko: 'Stussy'
    },
    {
        judul: 'Hampers Newborn Baby Gift Set',
        kategori: 'kid',
        harga: '74.000',
        deskripsi: 'Each hamper Free box and packaging, Free custom greeting cards, Free 1 layer of bubble wrap. Tolerance of colors and motifs cannot be 100% the same because it depends on motifs, factory-produced fabrics and also lighting effects. Brands of soap, powder and tissue are also not always the same depending on stock.',
        gambar: '../assets/img/hampers.jpg',
        toko: 'Newborn'
    },
    {
        judul: 'Vans SK8 Hi Notchback Defcon Multicam Jungle Black',
        kategori: 'shoes',
        harga: '580.000',
        deskripsi: 'Vans reunites with the stealth collective this spring to resurrect the Vans Sk8-Hi Notchback Pro, engineered with three new Multicam® patterns, Arid™, Tropic™, and Black™, specifically designed to reduce the visual and near-Infrared signature of a person in three distinct environments.',
        gambar: '../assets/img/s5.jpg',
        toko: 'Vans'
    },
    {
        judul: 'Polytron Mini Refrigerator PRH 51X',
        kategori: 'electronic',
        harga: '1.412.000',
        deskripsi: 'The Polytron PRH 51X is a mini fridge that has a capacity of 50L which is equipped with energy saving features and shelves that can be adjusted as needed. The minimalist design and recess handle make this refrigerator suitable for placing in a limited space such as a bedroom or office.',
        gambar: '../assets/img/mini-kulkas.jpg',
        toko: 'Polytron'
    },
    {
        judul: 'Mi Smart Clock',
        kategori: 'home',
        harga: '420.000',
        deskripsi: 'With the simple design and pure white cover, the compact Mi Smart Clock blends perfectly into any room. With help from Google, waking up and getting ready for bed have never been easier. Play your favorite music, podcast, or radio show from Youtube Music or Spotify directly on Mi Smart Clock.',
        gambar: '../assets/img/Mi-clock.jpg',
        toko: 'Xiaomi'
    },
    {
        judul: 'Novel Sesuk',
        kategori: 'book',
        harga: '88.000',
        deskripsi: 'Novel Sesuk tells the story of a family who moves from a city to a village. They decided to move to an old house in the hills because they wanted to spend quality time with their family. Because before deciding to move into the old house, an incident occurred in the old house that almost claimed the life of a family member.',
        gambar: '../assets/img/b5.jpg',
        toko: 'Goodreads'
    },
    
    // //6
    // {
    //     judul: 'Produk B',
    //     kategori: 'women',
    //     harga: 20000,
    //     deskripsi: 'Deskripsi Produk B',
    //     gambar: '../assets/img/b3.jpg',
    //     toko: 'Toko B'
    // },
    // {
    //     judul: 'Produk C',
    //     kategori: 'men',
    //     harga: 15000,
    //     deskripsi: 'Deskripsi Produk C',
    //     gambar: '../assets/img/d1.jpg',
    //     toko: 'Toko C'
    // },
    // {
    //     judul: 'Produk B',
    //     kategori: 'kid',
    //     harga: 20000,
    //     deskripsi: 'Deskripsi Produk B',
    //     gambar: '../assets/img/k1.jpg',
    //     toko: 'Toko B'
    // },
    // {
    //     judul: 'Produk C',
    //     kategori: 'shoes',
    //     harga: 15000,
    //     deskripsi: 'Deskripsi Produk C',
    //     gambar: '../assets/img/b5.jpg',
    //     toko: 'Toko C'
    // },
    // {
    //     judul: 'Produk C',
    //     kategori: 'electronic',
    //     harga: 15000,
    //     deskripsi: 'Deskripsi Produk C',
    //     gambar: '../assets/img/k1.2.jpg',
    //     toko: 'Toko C'
    // },
    // {
    //     judul: 'Produk B',
    //     kategori: 'home',
    //     harga: 20000,
    //     deskripsi: 'Deskripsi Produk B',
    //     gambar: '../assets/img/j1.jpg',
    //     toko: 'Toko B'
    // },
    // {
    //     judul: 'Produk A',
    //     kategori: 'book',
    //     harga: 10000,
    //     deskripsi: 'Deskripsi Produk A',
    //     gambar: '../assets/img/b2.jpg',
    //     toko: 'Toko A'
    // },
    
    // //7
    // {
    //     judul: 'Produk B',
    //     kategori: 'women',
    //     harga: 20000,
    //     deskripsi: 'Deskripsi Produk B',
    //     gambar: '../assets/img/b3.jpg',
    //     toko: 'Toko B'
    // },
    // {
    //     judul: 'Produk C',
    //     kategori: 'men',
    //     harga: 15000,
    //     deskripsi: 'Deskripsi Produk C',
    //     gambar: '../assets/img/d1.jpg',
    //     toko: 'Toko C'
    // },
    // {
    //     judul: 'Produk B',
    //     kategori: 'kid',
    //     harga: 20000,
    //     deskripsi: 'Deskripsi Produk B',
    //     gambar: '../assets/img/k1.jpg',
    //     toko: 'Toko B'
    // },
    // {
    //     judul: 'Produk C',
    //     kategori: 'shoes',
    //     harga: 15000,
    //     deskripsi: 'Deskripsi Produk C',
    //     gambar: '../assets/img/b5.jpg',
    //     toko: 'Toko C'
    // },
    // {
    //     judul: 'Produk C',
    //     kategori: 'electronic',
    //     harga: 15000,
    //     deskripsi: 'Deskripsi Produk C',
    //     gambar: '../assets/img/k1.2.jpg',
    //     toko: 'Toko C'
    // },
    // {
    //     judul: 'Produk B',
    //     kategori: 'home',
    //     harga: 20000,
    //     deskripsi: 'Deskripsi Produk B',
    //     gambar: '../assets/img/j1.jpg',
    //     toko: 'Toko B'
    // },
    // {
    //     judul: 'Produk A',
    //     kategori: 'book',
    //     harga: 10000,
    //     deskripsi: 'Deskripsi Produk A',
    //     gambar: '../assets/img/b2.jpg',
    //     toko: 'Toko A'
    // },
    

    // Tambahkan produk lain di sini
];
let totalProdukCount = 0; // Variabel untuk menyimpan jumlah total produk

function renderProduk(totalCount = produk.length){
    let container = document.getElementById('product-container');
    let itemCount = document.getElementById('item-count');
    container.innerHTML = '';
    
    produk.forEach(function (produk) {
        let proContainer = document.createElement('div');
        proContainer.className = 'pro';

        let gambar = document.createElement('img');
        gambar.src = produk.gambar;
        gambar.alt = produk.judul;
        gambar.className = 'product-img';

        let judul = document.createElement('h2');
        judul.className = 'product-title';
        judul.textContent = produk.judul;

        let harga = document.createElement('span');
        harga.className = 'price';
        harga.textContent = 'Rp. ' + produk.harga;

        let toko = document.createElement('p');
        toko.className = 'store';
        toko.textContent = produk.toko;

        let addCart = document.createElement('i');
        addCart.className = 'fas fa-cart-plus add-cart';

        proContainer.appendChild(gambar);
        proContainer.appendChild(judul);
        proContainer.appendChild(harga);
        proContainer.appendChild(toko);
        proContainer.appendChild(addCart);

        container.appendChild(proContainer);
    });
    totalProdukCount = produk.length; // Perbarui jumlah total produk
    updateTotalProdukCount(totalProdukCount); // Perbarui tampilan jumlah total produk
}

function filterProduk() {
    let select = document.getElementById('kategori-select');
    let kategori = select.value;
    let filteredProduk = [];

    if (kategori === 'all') {
        filteredProduk = produk;
    } else {
        filteredProduk = produk.filter(function (produk) {
            return produk.kategori === kategori;
        });
    }
    renderFilteredProduk(filteredProduk, filteredProduk.length, totalProdukCount);
}


function renderFilteredProduk(filteredProduk, filteredProdukCount, totalProdukCount) {
    let container = document.getElementById('product-container');
    container.innerHTML = '';

    filteredProduk.forEach(function (produk) {
        let proContainer = document.createElement('div');
        proContainer.className = 'pro';

        let gambar = document.createElement('img');
        gambar.src = produk.gambar;
        gambar.alt = produk.judul;
        gambar.className = 'product-img';

        let judul = document.createElement('h2');
        judul.className = 'product-title';
        judul.textContent = produk.judul;

        let harga = document.createElement('span');
        harga.className = 'price';
        harga.textContent = 'Rp. ' + produk.harga;

        let toko = document.createElement('p');
        toko.className = 'store';
        toko.textContent = produk.toko;

        let addCart = document.createElement('i');
        addCart.className = 'fas fa-cart-plus add-cart';

        proContainer.appendChild(gambar);
        proContainer.appendChild(judul);
        proContainer.appendChild(harga);
        proContainer.appendChild(toko);
        proContainer.appendChild(addCart);

        container.appendChild(proContainer);
    });
    updateTotalProdukCount(filteredProdukCount);
}
function updateTotalProdukCount(count) {
    let itemCount = document.getElementById('item-count');
    itemCount.textContent = count + ' Items found';
  }
// Render semua produk saat halaman pertama kali dimuat
renderProduk();
// Membuat fungsi pencarian ketika diinput oleh pengguna dan menampilkan produk berdasarkan nama produk dari inputan pengguna
function search() {
    let searchInput = document.getElementById('searchInput').value.toLowerCase();
  
    // Pindah ke halaman produk.html dengan parameter pencarian
    window.location.href = './produkKategori.html' + '?search=' + encodeURIComponent(searchInput);
  }
  
  // Fungsi untuk mendapatkan nilai parameter pencarian dari URL
  function getSearchParameter() {
    let urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('search');
  }
  
  // Fungsi untuk melakukan pencarian pada elemen-elemen produk
  function performSearch() {
    let searchInput = getSearchParameter();
  
    // Mendapatkan semua elemen dengan kelas "pro"
    let items = document.getElementsByClassName('pro');
    let filteredProdukCount = 0; // Variabel untuk menyimpan jumlah produk yang ditemukan
  
    // Loop melalui semua elemen dan sembunyikan yang tidak sesuai
    for (let i = 0; i < items.length; i++) {
      let item = items[i];
      let title = item.querySelector('.product-title').textContent.toLowerCase();
  
      if (title.includes(searchInput)) {
        item.style.display = 'block';
        filteredProdukCount++; // Menambah jumlah produk yang ditemukan
      } else {
        item.style.display = 'none';
      }
    }
  
    updateTotalProdukCount(filteredProdukCount);
  }
  window.addEventListener('DOMContentLoaded', function () {
    let searchInput = getSearchParameter();
  
    if (!searchInput) {
      renderProduk();
    }
  
    let select = document.getElementById('kategori-select');
    select.addEventListener('change', function() {
      renderProduk();
      filterProduk();
    });
  
    performSearch();
});